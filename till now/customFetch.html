<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>

  <style>
    div {
      width: 13%;
      margin: auto;
    }
    input,select{
      margin-bottom: 10px;
      font-size: 20px;
      padding-left: 10px;
    }
  </style>
  <body>
    <div>
      <h1>Add Product</h1>
      <input type="number" placeholder="id" id="id" />

      <input type="text" placeholder="title" id="title" />

      <input type="number" placeholder="price" id="price" />

      <input type="text" placeholder="color.." id="color" />

      <input type="text" placeholder="description" id="description" />
        <label for="">Date of creation</label>
      <input type="date" id="creationDate"/>
        <label for="">Select Product category</label>
      <select name="" id="category">
          <option value="electronics">electronics</option>
          <option value="woollens">woollens</option>
          <option value="footwear">footwear</option>
      </select>


      <input type="text" placeholder="product sub category like.." id="subCategory" />



      <input type="text" id="imageUrl" placeholder="Image Url..."/>

      <input type="number." placeholder="rating should be under 10" id="rating" />

      <input type="number" placeholder="How many people give rationg" id="ratingCount" />

      

      <button onclick="addProduct()">Add Product</button>
    </div>
  </body>
</html>
<script>
    async function addProduct() {
        const data = {

            id:document.getElementById('id').value,
            title:document.getElementById('title').value,
            price:document.getElementById('price').value,
            color:document.getElementById('color').value,
            description:document.getElementById('description').value,
            date:document.getElementById('creationDate').value,
            types:{
                category:document.getElementById('category').value,
                subCategory:document.getElementById('subCategory').value,
            },
            imageUrl:document.getElementById('imageUrl').value,
            rating:{
                rate:document.getElementById('rating').value,
                count:document.getElementById('ratingCount').value,
            }
        }
        console.log(data);
        let response = await fetch("http://127.0.0.1:5000/api/products",{
                method:"POST",
                body:JSON.stringify(data),
                headers:{
                    "Content-Type": "application/json",
                },
        })

        let d = await response.json();
        console.log(d);
    }
    // async function deleteProduct(){
    //     const id = document.getElementById('delete_id').value;
        
    //     let response = await fetch (`http://127.0.0.1:5000/api/products/1`)
    //         let d = await response.json();
    //         console.log(d.price);
    // }
    // deleteProduct();
    // // console.log('free')



</script>